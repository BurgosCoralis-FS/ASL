{% extends "layouts/_default.twig" %}

{% block pageName %}{% if image is defined %}Update{% else %}Create{% endif %}  Image{% endblock %}

{% block main_content %}
    <div class="bg">
        <div class="content">
            <div class="form-column">
                <form
                enctype="multipart/form-data"
                method="POST"
                action="/images/{% if image.id %}{{ image.id }}{% endif %}">

                {% if image.id %}
                    <input type="hidden" name="_method" value="PUT">
                    <input type="hidden" name="id" value="{{ image.id }}">
                    <div class='control'>
                        <img src="/images/{{ image.id }}{{ image.extension }}" alt="image">
                    </div>
                {% endif %}

                <div class='control'>
                    <h3>{% block pageName %}{% if image is defined %}Update{% else %}Create{% endif %}  Image{% endblock %}</h3>
                    <label>Parent Variant:</label>
                    <select name="VariantId">
                    <option>Select Variant...</option>

                    {% for variant in variants %}
                        <option value="{{ variant.id }}" {% if variant.id == image.VariantId %}selected="selected"{% endif %}>
                        {{ variant.title }}
                        </option>
                    {% endfor %}
                    </select>
                </div>

                    <div class='control'>
                        <label for="image">Upload Image:</label>
                        <br />
                        <input type="file" name="image" id="image" />
                    </div>

                    <div class='control'>
                        <input type="submit" type="submit" />
                    </div>
                </form>
            </div>
        </div>
    </div>
{% endblock %}

